<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Tool to allow you to send your duplicati notifications to discord">
    <meta name="author" content="James Lloyd">
    <title>Discord Notifications for Duplicati</title>
    <!-- Bootstrap core CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
    </style>
    <!-- Custom styles for this template -->
  </head>
  <body>
<div class='container'>
    <script src="//cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.4/Chart.min.js"></script>
    <canvas id="ModifiedFiles" width="400" height="100"></canvas>


    <script type="text/javascript">

        var ctx = document.getElementById('ModifiedFiles').getContext('2d');
        var ModifiedFilesData = {
      "labels":{{when|safe}},
      "datasets": [
        {
          "label": "Modified Files",
          "borderColor": "#1f61f0",
          "backgroundColor": "#1f61f0",
          "fill": false,
          "data": {{modifiedfiles|safe}}
        },
        {
            "label": "Added Files",
            "borderColor": "#8b1ff0",
            "backgroundColor": "#8b1ff0",
            "fill": false,
            "data": {{addedfiles|safe}}
          },
          {
              "label": "Deleted Files",
              "borderColor": "#1ff08b",
              "backgroundColor": "#1ff08b",
              "fill": false,
              "data": {{deletedfiles|safe}}
            }
      ]
    };
        var options = {
      "title": {
        "display": true,
        "text": "{{ request.args.get('name') }}",
        "position": "bottom",
        "fullWidth": true,
        "fontColor": "#aa7942",
        "fontSize": 16
      },
      "legend": {
        "display": true,
        "fullWidth": true,
        "position": "top"
      },
      "scales": {
        "yAxes": [
          {
            "ticks": {
              "beginAtZero": true,
              "display": true
            },
            "gridLines": {
              "display": true,
              "lineWidth": 2,
              "drawOnChartArea": true,
              "drawTicks": true,
              "tickMarkLength": 1,
              "offsetGridLines": true,
              "zeroLineColor": "#942192",
              "color": "#d6d6d6",
              "zeroLineWidth": 2
            },
            "scaleLabel": {
              "display": true,
              "labelString": "No. of Files"
            },
            "display": true
          }
        ],
        "xAxes": {
          "0": {
            "ticks": {
              "display": true,
              "fontSize": 14,
              "fontStyle": "italic"
            },
            "display": true,
            "gridLines": {
              "display": true,
              "lineWidth": 2,
              "drawOnChartArea": false,
              "drawTicks": true,
              "tickMarkLength": 12,
              "zeroLineWidth": 2,
              "offsetGridLines": true,
              "color": "#942192",
              "zeroLineColor": "#942192"
            },
            "scaleLabel": {
              "fontSize": 16,
              "display": true,
              "fontStyle": "normal"
            }
          }
        }
      },
      "tooltips": {
        "enabled": true,
        "mode": "label",
        "caretSize": 10,
        "backgroundColor": "#942192"
      }
    };
    
        var myChart = new Chart(ctx, {
            type: 'line',
            data: ModifiedFilesData,
            options: options
        });


    </script>

</div>
</body>
</html>